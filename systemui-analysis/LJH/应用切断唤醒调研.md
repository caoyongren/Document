### 应用切断唤醒调研

#### 需求
  - 解除关联启动
  - 不是点击图标启动的应用不能启动，包括后台进程，前台界面等
  - 获得应用启动的唤醒路径

#### android手机费电原因
android 同时还存在服务这个概念，也就是说对于需要 Push 功能的 App 来说，即使看上去完全退出，实际上却仍然在后台频繁的「唤醒」手机，使得手机一直处于高速运行的状态，先不说其占用大量的系统资源，但就频繁的响应就像跟正常使用时一样费电，这样的 App 一多，即使是电池容量再大也有扛不住的时候。

#### 什么是唤醒

打个比方：我们手机装了支付宝 淘宝 阿里旺旺 等等淘宝系列的软件
我们打开淘宝时他就会唤醒支付宝 阿里旺旺，可以在后台运行软件列表查看到。打开支付宝就会唤醒淘宝什么什么的。
还有百度的全家桶软件。打开一个自动唤醒其他百度软件，导致后台增加，要是没有清理掉的话，就一直存在后台耗电《导致一些人说掉电快，发热不耐用》

#### 唤醒途径
- 最容易，也最不稳妥的方法：通过系统的通知，比如开机启动、wifi状态变化，电量变化，各种android通知；这是最常用的手段，可以通过手机权限禁止；
- app互帮互助：app之间知道包名就可以相互唤醒了，比如你杀了我qq，只要微信还在就能确保随时唤醒qq。因为他们是一家的。其他同理；
- 最难的的方法：你的应用通过一些利益关系，可以进入手机系统的白名单。手机生产商与各大app的合作是很正常的，这个已经达到系统层面了，除非刷系统，否则一般很难杀，当然这类应用不多，毕竟这是比较令用户反感的；

#### 绿色守护切断唤醒的原理

-  绿色守护就是实现切断唤醒的一种工具；他可以在手机待机之时「静默」的将黑名单中的 App 强制关闭掉，不让其进行无聊的推送，这样在运行大型程序之后，可以有效的释放系统内存，并降低手机的唤醒概率，达到省电的目的。
-  ROOT + 绿色守护 + xposed

#### 实现方式

-  将这些APP进行“隔离审查”，强制的将他们和相关的服务关闭掉，从而不让他们频繁的“唤醒”手机，而达到节省电量的目的。
-  禁止绝大部分APP的 ”读取软件“ 权限
-  可以禁止所有的服务、广播，如果影响软件的功能，尝试允许一些服务、广播等

#### 可能问题

阻止广播发送到阻止运行的软件。但目前还有些问题：
- 对于widget/同步的处理，是否允许的问题。目前允许widget调起，以及允许同步。
- 对于gms的处理问题，不过国内不会遇到这个问题。

#### 实现切断唤醒的应用

-  360卫士极客版
-  ROOT + 绿色守护 + xposed
-  冰箱

#### xpose下载
xposed for openthos 1.0 链接：https://pan.baidu.com/s/1dFHCHsX 密码：fayg
